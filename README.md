# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

# Архитектура Проекта
В проекте используется событийно-ориентированный подход. Взаимодействие между слоями приложения происходит через обмен данными, вызванными определенными событиями.

Используется подход Model-View Presenter (MVP), который позволяет разделить отображение и данные. Архитектура состоит из трех слоев:
1. Model (Слой Данных) - бизнес логика, хранение и изменение данных.
2. View (Слой Представления) - отображение данных.
3. Presenter - взаимодействие Слоя Данных со Слоем Представления. Задача: получать данные из вне и отправлять данные.

# Слой Данных

## Interface IProduct
Описывает продукт в каталоге.
- `id: string` - уникальный идентификатор продукта.
- `title: string` - название продукта.
- `description?: string` - необязательное описание продукта.
- `category: string` - категория продукта
- `price: number` - цена продукта.
- `image: string` - URL на изображения продукта.

## Interface IBasket
Описывает корзину.
- `id: string` - уникальный идентификатор корзины (своя корзина есть у каждого пользователя приложения).
- `price: number` - базовая стоимость продуктов в корзине.
- `total: number` - стоимость продукта в корзине с учетом скидок.
- `items: string[]` - перечень продуктов в корзине.

## Interface IOrderForm
Описывает форму оформления заказа.
- `email: string` - электронная почта покупателя.
- `phone: string` - телефонный номер покупателя.
- `address: string` - адрес доставки.
- `payment: string` - метод оплаты.

## Interface IOrderAddress
Описывает адрес заказа.
- `address: string` - адрес доставки.
- `payment: string` - метод оплаты.

## Interface IOrderContacts
Описывает контактные данные заказа.
- `email: string` - электронный адрес.
- `phone: string` - номер телефона.

## Interface IOrder extends IOrderAddress, IOrderContacts
Описывает заказ, расширяет IOrderAddress и IOrderContacts.
- `items: string[]` - перечень продуктов в заказе.
- `total: number` - стоимость продуктов в заказе.

## Interface IOrderResult
Описывает результат оформления заказа.
- `id: string` - уникальный идентификатор заказа.
- `total: number` - стоимость списанная или к оплате за заказ.

## Class AppState
Управляет глобальным состоянием приложения.
- `getBasketItems` - возвращает товары в корзине.
- `addToBasket` - добавляет товар в корзину.
- `removeFromBasket` - удаляет товар из корзины.
- `clearBasket` - очищает корзину.
- `getTotal` - вычисляет общую стоимость.
- `setCatalog` - устанавливает и обновляет каталог товаров.
- `setPreview` - устанавливает товар для предварительного просмотра.
- `isProductInBasket` - проверяет находиться ли уже товар в корзине.
- `setOrder` - устанавливает заказ.
- `setPayment` - устанавливает метод оплаты.
- `setAddress` - устанавливает адрес.
- `setEmail` - устанавливает электронный адрес.
- `setPhone` - устанавливает номер телефона.
- `setOrderField` - устанавливает значения полей в форме заказа.
- `setContactsField` - устанавливает значения полей в контактной форме.
- `validateOrderPaymentMethod` - валидирует модальное окно со способами оплаты и адресом покупателя.
- `validateOrderContacts` - валидирует модальное окно с почтой и телефоном покупателя.
